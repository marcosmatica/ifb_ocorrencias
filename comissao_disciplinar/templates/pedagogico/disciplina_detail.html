{% extends 'core/base.html' %}
{% load static %}

{% block title %}{{ disciplina.nome }}{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <div>
            <h1 class="page-title">{{ disciplina.nome }}</h1>
            <p class="page-subtitle">{{ disciplina.codigo }} - {{ disciplina.curso.nome }}</p>
        </div>
        <div class="flex gap-2">
            <a href="{% url 'pedagogico:disciplina_list' %}" class="btn btn-outline">Voltar</a>
            <a href="#" class="btn btn-primary">Editar</a>
        </div>
    </div>

    <div class="grid-2">
        <!-- Informações Básicas -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Informações da Disciplina</h3>
            </div>
            <div class="card-body">
                <div class="info-grid">
                    <div class="info-label">Código:</div>
                    <div class="info-value">{{ disciplina.codigo }}</div>

                    <div class="info-label">Curso:</div>
                    <div class="info-value">{{ disciplina.curso.nome }}</div>

                    <div class="info-label">Carga Horária:</div>
                    <div class="info-value">{{ disciplina.carga_horaria }} horas</div>

                    <div class="info-label">Status:</div>
                    <div class="info-value">
                        {% if disciplina.ativa %}
                            <span class="badge badge-success">Ativa</span>
                        {% else %}
                            <span class="badge badge-danger">Inativa</span>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Ementa -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Ementa</h3>
            </div>
            <div class="card-body">
                {% if disciplina.ementa %}
                    <p>{{ disciplina.ementa|linebreaks }}</p>
                {% else %}
                    <p class="text-muted">Nenhuma ementa cadastrada.</p>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Turmas que oferecem esta disciplina -->
    <div class="card mt-4">
        <div class="card-header">
            <h3 class="card-title">Turmas com esta Disciplina</h3>
        </div>
        <div class="card-body" style="padding: 0;">
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Turma</th>
                            <th>Período</th>
                            <th>Docente</th>
                            <th>Ano</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados dinâmicos seriam carregados aqui -->
                        <tr>
                            <td colspan="4" class="text-center py-4 text-muted">
                                Nenhuma turma encontrada para esta disciplina.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<style>
.info-grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 0.75rem;
}
.info-label {
    font-weight: 600;
    color: var(--gray-700);
}
.info-value {
    color: var(--gray-900);
}
</style>
{% endblock %}