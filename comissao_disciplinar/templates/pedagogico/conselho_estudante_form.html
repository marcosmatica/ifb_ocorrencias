{% extends 'core/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Informações do Estudante - {{ estudante.nome }}{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <div>
            <h1 class="page-title">Informações do Estudante no Conselho</h1>
            <p class="page-subtitle">{{ estudante.nome }} - {{ conselho.turma.nome }}</p>
        </div>
        <a href="{% url 'pedagogico:conselho_detail' conselho.pk %}" class="btn btn-outline">
            Voltar ao Conselho
        </a>
    </div>

    <div class="card">
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                
                <h3 class="section-title">Informações Gerais</h3>
                <div class="grid-2">
                    <div class="form-group">
                        {{ form.frequencia|as_crispy_field }}
                    </div>
                    <div class="form-group">
                        {{ form.situacao_geral|as_crispy_field }}
                    </div>
                </div>

                <div class="form-group">
                    {{ form.observacoes_gerais|as_crispy_field }}
                </div>

                <h3 class="section-title">Aspectos Comportamentais</h3>
                <div class="form-group">
                    {{ form.participacao|as_crispy_field }}
                </div>

                <div class="form-group">
                    {{ form.relacionamento|as_crispy_field }}
                </div>

                <div class="grid-2">
                    <div class="form-group">
                        {{ form.dificuldades|as_crispy_field }}
                    </div>
                    <div class="form-group">
                        {{ form.potencialidades|as_crispy_field }}
                    </div>
                </div>

                <h3 class="section-title">Encaminhamentos</h3>
                <div class="grid-3">
                    <div class="form-group">
                        {{ form.encaminhamento_cdpd|as_crispy_field }}
                    </div>
                    <div class="form-group">
                        {{ form.encaminhamento_cdae|as_crispy_field }}
                    </div>
                    <div class="form-group">
                        {{ form.encaminhamento_napne|as_crispy_field }}
                    </div>
                </div>

                <div class="form-group">
                    {{ form.necessita_acompanhamento|as_crispy_field }}
                </div>

                <div class="form-group">
                    {{ form.observacoes_encaminhamento|as_crispy_field }}
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Salvar Informações</button>
                    <a href="{% url 'pedagogico:conselho_detail' conselho.pk %}" class="btn btn-outline">Cancelar</a>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
.section-title {
    margin: 1.5rem 0 1rem 0;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--gray-200);
    color: var(--gray-700);
}
.grid-3 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
}
.form-actions {
    display: flex;
    gap: 0.5rem;
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px solid var(--gray-200);
}
</style>
{% endblock %}